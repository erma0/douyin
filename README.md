![douyin](https://socialify.git.ci/erma0/douyin/image?description=1&font=Source%20Code%20Pro&forks=1&issues=1&language=1&owner=1&pattern=Circuit%20Board&stargazers=1&theme=Auto)

# âœ¨æŠ–éŸ³çˆ¬è™«

> â¤ï¸[å¼€æºä¸æ˜“ï¼Œæ¬¢è¿starâ­](#star-history)

## ğŸ“¢å£°æ˜

> æœ¬é¡¹ç›®åˆè¡·ä¸ºå­¦ä¹ `python`çˆ¬è™«ã€å‘½ä»¤è¡Œè°ƒç”¨`Aria2`åŠ`python`å®ç°`WebUI`çš„æ¡ˆä¾‹ï¼Œç¨‹åºåŠŸèƒ½ä¸ºè·å–æŠ–éŸ³å¹³å°ä¸Šå…¬å¼€çš„ä¿¡æ¯ï¼Œä»…ç”¨äºæµ‹è¯•å’Œå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”æˆ–ä»»ä½•éæ³•ç”¨é€”ã€‚
>
> ä»»ä½•ç”¨æˆ·ç›´æ¥æˆ–é—´æ¥ä½¿ç”¨ã€ä¼ æ’­æœ¬ä»“åº“å†…å®¹æ—¶è´£ä»»è‡ªè´Ÿï¼Œæœ¬ä»“åº“çš„è´¡çŒ®è€…ä¸å¯¹è¯¥ç­‰è¡Œä¸ºäº§ç”Ÿçš„ä»»ä½•åæœè´Ÿè´£ã€‚
>
> **å¦‚æœç›¸å…³æ–¹è®¤ä¸ºè¯¥é¡¹ç›®çš„ä»£ç å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œè¯·åŠæ—¶è”ç³»æˆ‘åˆ é™¤ç›¸å…³ä»£ç **ã€‚
>
> ä½¿ç”¨æœ¬ä»“åº“çš„å†…å®¹å³è¡¨ç¤ºæ‚¨åŒæ„æœ¬å…è´£å£°æ˜çš„æ‰€æœ‰æ¡æ¬¾å’Œæ¡ä»¶ã€‚å¦‚æœä½ ä¸æ¥å—ä»¥ä¸Šçš„å…è´£å£°æ˜ï¼Œè¯·ç«‹å³åœæ­¢ä½¿ç”¨æœ¬é¡¹ç›®ã€‚

---

## ğŸ é¡¹ç›®åœ°å€

> [https://github.com/erma0/douyin](https://github.com/erma0/douyin)

## ğŸ¬åŠŸèƒ½

ğŸˆè·å–æŠ–éŸ³ç½‘é¡µä»¥ä¸‹å…¬å¼€çš„æ•°æ®ä¿¡æ¯ï¼š
  - [x] æŒ‡å®šä½œå“æ•°æ®
  - [x] æŒ‡å®šç”¨æˆ·èµ„æ–™ä¿¡æ¯
  - [x] æŒ‡å®šç”¨æˆ·ä¸»é¡µä½œå“æ•°æ®
  - [x] æŒ‡å®šç”¨æˆ·å–œæ¬¢ä½œå“æ•°æ®
  - [x] æŒ‡å®šç”¨æˆ·æ”¶è—ä½œå“æ•°æ®
  - [x] æŒ‡å®šéŸ³ä¹åŸå£°ä½œå“æ•°æ®
  - [x] æŒ‡å®šæŒ‘æˆ˜è¯é¢˜ä½œå“æ•°æ®
  - [x] æŒ‡å®šåˆé›†ä½œå“æ•°æ®
  - [x] æŒ‡å®šç”¨æˆ·å…³æ³¨åˆ—è¡¨æ•°æ®
  - [x] æŒ‡å®šç”¨æˆ·ç²‰ä¸åˆ—è¡¨æ•°æ®
  - [x] æŒ‡å®šå…³é”®è¯æœç´¢ä½œå“æ•°æ®
  - [x] æŒ‡å®šå…³é”®è¯æœç´¢ç”¨æˆ·æ•°æ®
  - [ ] æŒ‡å®šå…³é”®è¯æœç´¢ç›´æ’­æ•°æ®
  - [ ] æŒ‡å®šä½œå“è¯„è®ºæ•°æ®
  - [ ] æŒ‡å®šä½œå“è¯„è®ºå›å¤æ•°æ®

PS.

- æ”¯æŒè¾“å…¥æ–‡ä»¶è·¯å¾„æ‰¹é‡æ“ä½œï¼ˆä¸€è¡Œä¸€ä¸ªç›®æ ‡åœ°å€ï¼‰
- æ”¯æŒå¢é‡é‡‡é›†æŒ‡å®šç”¨æˆ·ä¸»é¡µä½œå“
- éƒ¨åˆ†ä½œå“å°é¢ä¸å‡†ç¡®ï¼ŒåŸå› ä¸æ˜

## â€ğŸš©å¾…åŠ

> ğŸ’¡æ¬¢è¿PRæˆ–å»ºè®®

- [ ] å®Œå–„ç¨‹åº - æ›´æ–°åŠŸèƒ½
- [ ] GUI - Eel

## ğŸš€ä½¿ç”¨

> ğŸ“æµ‹è¯•ç¯å¢ƒï¼š`Win10 x64` + `Python3.12`ã€‚

> ğŸ“­**åŠŸèƒ½æœªå…¨éƒ¨æµ‹è¯•ï¼Œæœ‰é—®é¢˜è¯·æäº¤issueï¼ˆè¯·æä¾›æµ‹è¯•é“¾æ¥ä»¥ä¾¿å¤ç°é—®é¢˜ï¼‰**

### ğŸªè·å–cookie

**ğŸŸ¢æ³¨æ„ï¼š cookieæ˜¯æœ‰è¿‡æœŸæ—¶é—´çš„ï¼Œæœ‰æ•ˆcookieå†…å®¹ä¸€èˆ¬åœ¨60æ¡å·¦å³ã€‚**

> 1. æ‰“å¼€æŠ–éŸ³ç½‘é¡µç‰ˆçš„ä»»æ„ç”¨æˆ·ä¸»é¡µï¼ˆæ¨èä½¿ç”¨`Chrome/Edge`æµè§ˆå™¨ï¼‰ï¼Œä¾‹å¦‚`https://v.douyin.com/iybvCom1/`,å†æŒ‰`F12`æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç„¶ååˆ‡æ¢åˆ°`ç½‘ç»œ/Network`æ ‡ç­¾é¡µ
> 
> 2. åœ¨ `è¿‡æ»¤/ç­›é€‰å™¨` ä¸­è¾“å…¥`v1/web/aweme/post`ï¼Œæ‰¾åˆ°ä»»ä¸€ä¸ª`post/?`å¼€å¤´çš„JSONè¯·æ±‚ï¼ˆæ²¡æœ‰è¯·æ±‚å°±åˆ·æ–°ä¸€ä¸‹ï¼‰
> 
> 3. åœ¨`æ ‡å¤´/Headers`ä¸­å¾€ä¸‹æ»‘ï¼Œæ‰¾åˆ°`è¯·æ±‚æ ‡å¤´/Request Headers`ä¸‹é¢çš„`Cookie`ï¼Œå¤åˆ¶`Cookie`å³è¾¹çš„å€¼ï¼ˆå¯ä»¥åŒå‡»ç›´æ¥å…¨é€‰ï¼‰ï¼Œå†ä¿å­˜åˆ°`config/cookie.txt`æ–‡ä»¶ä¸­ã€‚
> ![ç¤ºæ„å›¾](./static/image.png)
> PS. å¯ä»¥ä½¿ç”¨`-c edge/chrome`å‘½ä»¤è‡ªåŠ¨è·å–æœ¬åœ°edge/chromeæµè§ˆå™¨ä¸­çš„cookieï¼Œä¸è¿‡å–åˆ°çš„cookieä¸ä¸€å®šæœ‰æ•ˆï¼Œä¸”æœ‰æ•ˆæœŸå¾ˆçŸ­ï¼Œä»…ä½œä¸ºå¤‡é€‰åŠŸèƒ½ä½¿ç”¨ï¼ˆå®æµ‹chromeæœ‰æ•ˆï¼ŒEdgeç»å¸¸æ— æ•ˆï¼‰ã€‚

> âš ï¸ æ®è¯´ç”¨ä½œå“è¯¦æƒ…é¡µä¸­`/aweme/v1/web/aweme/detail/`æ¥å£è¯·æ±‚å¸¦çš„cookieæˆåŠŸç‡è¾ƒé«˜ï¼Œæœªæµ‹è¯•ã€‚

### ğŸ‰‘ç›´æ¥è¿è¡Œ

> ä¸‹è½½`dist`ç›®å½•ä¸­çš„`douyin.exe`ï¼Œåœ¨ç¨‹åºæ‰€åœ¨ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å¯¹åº”å‘½ä»¤ï¼Œæˆ–è€…ç›´æ¥åŒå‡»æ‰“å¼€douyin.exeåæ ¹æ®æç¤ºè¾“å…¥ç›®æ ‡é“¾æ¥å³å¯ã€‚

> âš ï¸ Linuxæˆ–macOSè¯·ä»[å®˜æ–¹åœ°å€ä¸‹è½½å¯¹åº”çš„Aria2](https://github.com/aria2/aria2/releases)ï¼Œç„¶åè‡ªè¡Œä¿®æ”¹æºç è°ƒè¯•è¿è¡Œ

### ğŸ”å‘½ä»¤è¡Œä½¿ç”¨å¸®åŠ©
```ps
./douyin -h
```

### ğŸ€å‘½ä»¤è¡Œä½¿ç”¨ä¾‹å­ï¼ˆ**å…ˆåœ¨ç¨‹åºæ‰€åœ¨ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œ**ï¼‰
- [x] è·å–æŒ‡å®šç”¨æˆ·ä¸»é¡µ/éŸ³ä¹/è¯é¢˜/åˆé›†/ä½œå“ç­‰æ•°æ®
    ```ps
    # éƒ¨åˆ†ç±»å‹é“¾æ¥å¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œå…¶ä»–éœ€è¦ä½¿ç”¨-tæŒ‡å®šç±»å‹ 
    ./douyin -u https://*/
    ./douyin -t search -u https://*/
    ```
    ```ps
    # -t, --type æŒ‡å®šç±»å‹ï¼š
        'post'ï¼šç”¨æˆ·ä¸»é¡µä½œå“
        'like'ï¼šç”¨æˆ·å–œæ¬¢ä½œå“
        'music'ï¼šéŸ³ä¹åŸå£°ä½œå“
        'hashtag'ï¼šè¯é¢˜ä½œå“
        'search'ï¼šæœç´¢ä½œå“
        'collection'ï¼šåˆé›†ä½œå“
        'favorite'ï¼šç”¨æˆ·æ”¶è—ä½œå“
        'video'ï¼šå•ä¸ªè§†é¢‘ä½œå“
        'note'ï¼šå•ä¸ªå›¾æ–‡ä½œå“
        'follow'ï¼šç”¨æˆ·å…³æ³¨åˆ—è¡¨
        'fans'ï¼šç”¨æˆ·ç²‰ä¸åˆ—è¡¨
        'user'ï¼šæœç´¢ç”¨æˆ·
        'live'ï¼šæœç´¢ç›´æ’­ï¼ˆæš‚æœªå®ç°ï¼‰
    ```
- [x] è·å–å½“å‰ç”¨æˆ·å–œæ¬¢/æ”¶è—ä½œå“ç­‰æ•°æ®
    ```ps
    ./douyin -t like
    ```
- [x] å…¶ä»–åŠŸèƒ½
    ```ps
    # -l é™åˆ¶æ•°é‡ï¼Œåªéœ€è¦å‰5æ¡ç»“æœ
    ./douyin -l 5 -u https://*/ 

    # è¿ç»­è¾“å…¥å¤šä¸ªç›®æ ‡åœ°å€
    ./douyin -u https://*1/ -u https://*2/ 

    # è¾“å…¥æ–‡ä»¶[user.txt]ä¸­çš„å¤šä¸ªç›®æ ‡
    ./douyin -u ./user.txt
    ```

- ğŸ’¡ æ‰‹åŠ¨ä½¿ç”¨aria2cä¸‹è½½
    ```ps
    aria2c -c --console-log-level warn -i ç”Ÿæˆçš„ä¸‹è½½é…ç½®æ–‡ä»¶.txt
    ```
> **ä¹Ÿå¯å‚è€ƒtest_douyin.pyæ–‡ä»¶ä¸­çš„ä»£ç ä½¿ç”¨**

## ğŸ”¨ç¼–è¯‘

1. å®‰è£…ä¾èµ–

    ```ps
    pip install -r ./requirements.txt
    ```

2. å®‰è£…pyinstaller

    ```ps
    pip install -U pyinstaller
    ```

3. æ‰“åŒ…EXEï¼Œå›¾æ ‡å¯è‡ªè¡Œæ›´æ¢

    ```ps
    pyinstaller -F ./cli.py -i ./static/ico.ico -n douyin --add-data "lib:lib" --add-data "aria2c.exe:."

    # æˆ–è€…ä½¿ç”¨é…ç½®æ–‡ä»¶
    pyinstaller ./douyin.spec
    ```

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=erma0/douyin&type=Date)](https://star-history.com/#erma0/douyin&Date)